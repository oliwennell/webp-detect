/*! webp-detect 2014-02-13 */
var WebpDetect=function(){var a=null,b=0,c=[{name:"lossy",testImage:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"},{name:"lossless",testImage:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA=="},{name:"alpha",testImage:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA=="},{name:"animation",testImage:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}],d=function(a,b){var c=new Image;c.onload=function(){var d=c.width>0&&c.height>0;b(a,d)},c.onerror=function(){b(a,!1)},c.src="data:image/webp;base64,"+a.testImage},e=function(d,e){var f=(e?"":"no-")+"webp-"+d.name;$("html").addClass(f);var g=f+"-src";$("img["+g+"]").each(function(a,b){var c=$(b).attr(g);$(b).removeAttr(g),e||(c=c.substring(c.length-3)+"png"),$(b).attr("src",c||"")}),a&&(b++,b==c.length&&a())};return{init:function(b){a=b&&b.onComplete;for(var f=0;f<c.length;++f)d(c[f],e)}}}();